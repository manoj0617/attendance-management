<%- layout("../layouts/adminBoilerplate") -%>
<body>
    <div class="container mt-5">
        <h1>Edit Faculty</h1>
        <form method="post" action="/admin/faculty/<%= faculty._id %>">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" name="name" class="form-control" value="<%= faculty.name %>" required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" name="email" class="form-control" value="<%= faculty.email %>" required>
            </div>
            <div class="form-group">
                <label for="branch">Branch</label>
                <select name="branch" class="form-control" required>
                    <% branches.forEach(function(branch) { %>
                        <option value="<%= branch._id %>" <%= branch._id.equals(faculty.branch) ? 'selected' : '' %>><%= branch.name %></option>
                    <% }) %>
                </select>
            </div>
            <div class="form-group">
                <label for="mobile">Mobile</label>
                <input type="text" name="mobile" class="form-control" value="<%= faculty.mobile %>" required>
            </div>
            <div class="form-group">
                <label for="subjects">Subjects</label>
                <select name="subjects" class="form-control" multiple required>
                    <% subjects.forEach(function(subject) { %>
                        <option value="<%= subject._id %>" <%= faculty.subjects.some(sub => sub.equals(subject._id)) ? 'selected' : '' %>><%= subject.name %></option>
                    <% }) %>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Update</button>
            <a href="/admin/faculty" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</body>
</html>
