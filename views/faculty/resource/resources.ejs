<% layout("../layouts/facultyBoilerplate") -%>
<body>
<div class="container mt-5">
  <h2>Share Resource (Faculty)</h2>
  <form action="/faculty/resources/upload" method="POST" enctype="multipart/form-data">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" class="form-control" name="title" id="title" required>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea class="form-control" name="description" id="description"></textarea>
    </div>

    <div class="form-group">
      <label for="section">Select Section</label>
      <select class="form-control" name="section" id="section">
        <% sections.forEach(section => { %>
          <option value="<%= section._id %>"><%= section.name %></option>
        <% }) %>
      </select>
    </div>

    <div class="form-group">
      <label for="file">Select File</label>
      <input type="file" class="form-control-file" name="file" id="file" required>
    </div>

    <button type="submit" class="btn btn-primary">Share Resource</button>
  </form>
</div>
<script>
    $(document).ready(function () {
      $('form').on('submit', function (e) {
        const fileInput = $('#file');
        const file = fileInput[0].files[0];
  
        if (!file) {
          alert('Please select a file.');
          e.preventDefault();
        }
      });
    });
  </script>
  
</body>
